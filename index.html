<!DOCTYPE html>
<html dir="ltr" lang="en-US">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Home work</title>
		<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js'></script>
		<script type="text/javascript">
		
	$(document).ready(function(){
				//по умолчанию показываются 5 панелей
				$(window).load(function () { 
					$('body>ul>li:gt(4)').slideUp(5);
					$(".message_body").slideUp(5);
				});

				//при клике на заголовок панели она раскрывается у внутри содержатся сообщения
				$('.message_head').click(  
					function(){
						$('.message_head').css({ color: 'black' });
				     	$(".message_body").slideUp(500);
						$(this).next(".message_body").slideDown(1000);
						$(this).css({ color: 'brown' });
					} );
			
				//Кнопки “Свернуть всё” (Collapse all) и “Показать все сообщения” (Show all messages)
				$('a:last').click(function(){
					$('body>ul>li').slideUp()});
				$('a:first').click(function(){
					$('body>ul>li').slideDown()});

				//счетчик всех панелей
				var a = $('body>ul>li').length;
				$("#total_messages").append('('+a+')');

				//при клике на сообщении, его нужно выделять другим цветом
				$('.pane-list>li').click(  
					function(){
				     	$(".pane-list>li").css({ backgroundColor: 'lightgrey' });
						$(this).css({ backgroundColor: 'grey'});});

				//добавить кнопку для удаления
				$('.pane-list>li').append('<div> <img src="images/1.jpg" alt="foto"> </div>');
				$('img').click(function(){	$(this).parents(".pane-list>li").animate({ opacity: 'hide' }, "slow");});

				   

	});

		</script>
		<style type="text/css">
			ul {
				width: 600px;
				margin: auto;
				padding: 0;
				list-style-type: none;
			}
			body>ul {
				width: 600px;
				background-color: lightblue;
			}
			.pane-list {
				background-color: lightgrey;
			}
			body>ul>li {
				border-bottom: 2px solid darkblue;
				cursor: pointer;
			}
			.pane-list>li {
				border-bottom: 1px solid brown;
				padding-left: 10px;
				cursor: pointer;
				position: relative;
			}
			body>ul>li:last-child, .pane-list>li:last-child {
				border-bottom: none;
			}
			.message_head {
				height: 30px;
				margin: 0 10px;
				font-size: 24px;
				font-weight: bolder; 
			}
			.message_body {
				/*display: none;*/
			}
			#collapse_show {
				width: 600px;
				margin: auto;
			}
			a {
				float: right;
				margin-right: 20px;
			}
			.arrows {
				color: black;
				font-weight: bold;
			}
			.pane-list>li>div {
				position: absolute;
				top: 5px;
				right: 5px;
			}
		</style>
	</head>
	<body>
		<ul>
			<li>
				<p class="message_head">nick1:</p>
				<div class="message_body">
					<ul class="pane-list">
						<li><strong>Lorem ipsum </strong><br/> dolor sit amet, consectetur adipisicing elit</li>
						<li><strong>labore et dolore magna aliqua. </strong><br/> Ut enim ad minim veniam,	quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo	consequat. </li>
						<li><strong>Duis aute irure dolor in reprehenderit </strong><br/> in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident laboris nisi ut aliquip ex ea commodo	consequat.</li>
					</ul>			
				</div>
			</li>
			<li>
				<p class="message_head">nick2:</p>
				<div class="message_body">
					<ul class="pane-list">
						<li><strong>Lorem ipsum </strong><br/> dolor sit amet, consectetur adipisicing elit</li>
						<li><strong>labore et dolore magna aliqua. </strong><br/> Ut enim ad minim veniam,	quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo	consequat. </li>
					</ul>
				</div>
			</li>
			<li>
				<p class="message_head">nick3:</p>
				<div class="message_body">
					<ul class="pane-list">
						<li><strong>Lorem ipsum </strong><br/> dolor sit amet, consectetur adipisicing elit</li>
						<li><strong>labore et dolore magna aliqua. </strong><br/> Ut enim ad minim veniam,	quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo	consequat. </li>
						<li><strong>Duis aute irure dolor in reprehenderit </strong><br/> in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident laboris nisi ut aliquip ex ea commodo	consequat.</li>
						<li><strong>Duis aute irure dolor in reprehenderit </strong><br/> in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident laboris nisi ut aliquip ex ea commodo	consequat.</li>
					</ul>
				</div>
			</li>
			<li>
				<p class="message_head">nick4:</p>
				<div class="message_body">
					<ul class="pane-list">
						<li><strong>Lorem ipsum </strong><br/> dolor sit amet, consectetur adipisicing elit</li>
						<li><strong>labore et dolore magna aliqua. </strong><br/> Ut enim ad minim veniam,	quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo	consequat. </li>
						<li><strong>Duis aute irure dolor in reprehenderit </strong><br/> in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident laboris nisi ut aliquip ex ea commodo	consequat.</li>
					</ul>
				</div>
			</li>
			<li>
				<p class="message_head">nick5:</p>
				<div class="message_body">
					<ul class="pane-list">
						<li><strong>Lorem ipsum </strong><br/> dolor sit amet, consectetur adipisicing elit</li>
						<li><strong>labore et dolore magna aliqua. </strong><br/> Ut enim ad minim veniam,	quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo	consequat. </li>
						<li><strong>Duis aute irure dolor in reprehenderit </strong><br/> in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident laboris nisi ut aliquip ex ea commodo	consequat.</li>
						<li><strong>Duis aute irure dolor in reprehenderit </strong><br/> in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident laboris nisi ut aliquip ex ea commodo	consequat.</li>
						<li><strong>Duis aute irure dolor in reprehenderit </strong><br/> in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident laboris nisi ut aliquip ex ea commodo	consequat.</li>
					</ul>
				</div>
			</li>
			<li>
				<p class="message_head">nick6:</p>
				<div class="message_body">
					<ul class="pane-list">
						<li><strong>Lorem ipsum </strong><br/> dolor sit amet, consectetur adipisicing elit</li>
						</ul>
				</div>
			</li>
			<li>
				<p class="message_head">nick7:</p>
				<div class="message_body">
					<ul class="pane-list">
						<li><strong>Lorem ipsum </strong><br/> dolor sit amet, consectetur adipisicing elit</li>
						<li><strong>labore et dolore magna aliqua. </strong><br/> Ut enim ad minim veniam,	quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo	consequat. </li>
						<li><strong>Duis aute irure dolor in reprehenderit </strong><br/> in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident laboris nisi ut aliquip ex ea commodo	consequat.</li>
					</ul>
				</div>
			</li>
			<li>
				<p class="message_head">nick8:</p>
				<div class="message_body">
					<ul class="pane-list">
						<li><strong>labore et dolore magna aliqua. </strong><br/> Ut enim ad minim veniam,	quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo	consequat. </li>
						<li><strong>Duis aute irure dolor in reprehenderit </strong><br/> in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident laboris nisi ut aliquip ex ea commodo	consequat.</li>
					</ul>
				</div>
			</li>
			<li>
				<p class="message_head">nick9:</p>
				<div class="message_body">
					<ul class="pane-list">
						<li><strong>Lorem ipsum </strong><br/> dolor sit amet, consectetur adipisicing elit</li>
						<li><strong>labore et dolore magna aliqua. </strong><br/> Ut enim ad minim veniam,	quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo	consequat. </li>
						<li><strong>Duis aute irure dolor in reprehenderit </strong><br/> in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident laboris nisi ut aliquip ex ea commodo	consequat.</li>
					</ul>
				</div>
			</li>
		</ul>
		<div id="collapse_show">
			<a href="#">Show all message <span id="total_messages"></span> <span class="arrows">&#8659;</span></a>
			<a href="#">Collapse all <span class="arrows">&#8657;</span></a>
		</div>
	</body>
</html>
